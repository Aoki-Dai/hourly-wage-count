# 時給カウンター (Hourly Wage Counter)

時給に基づいて秒単位の収入を計算し、リアルタイムで可視化するWebアプリケーションです。

## 機能概要

- 時給を入力して、リアルタイムで収入を計算
- 開始/停止/リセット機能で作業時間を管理
- 経過時間のリアルタイム表示
- 収入進捗のビジュアライゼーション（バー表示と円グラフ表示）
- 設定の自動保存（LocalStorage使用）
- レスポンシブデザイン（モバイル対応）
- アクセシビリティ対応
- パフォーマンス最適化（バックグラウンド動作、メモリ管理）

## 使い方

1. 時給を入力します（例: 1000円）
2. 「開始」ボタンをクリックして収入カウンターを開始します
3. 作業中は自動的に収入と経過時間が更新されます
4. 「停止」ボタンをクリックして一時停止できます
5. 「リセット」ボタンで収入と経過時間をゼロにリセットできます
6. 「バー表示」と「円グラフ表示」のタブで視覚化方法を切り替えられます

## 技術仕様

- **フロントエンド**: HTML5, CSS3, JavaScript (Vanilla JS)
- **状態管理**: クラスベースのローカル状態管理
- **視覚化**: CSS アニメーションとSVG
- **データ永続化**: LocalStorage
- **アーキテクチャ**: MVC パターン

## ファイル構成

- `index.html` - メインHTMLファイル
- `styles/main.css` - スタイルシート
- `js/main.js` - メインJavaScriptファイル（WageCounter, TimerManager, CurrencyFormatter, InputValidator, WageCounterAppクラスを含む）
- `js/ui-controller.js` - UIコントローラー
- `js/visualizer.js` - 視覚化コンポーネント
- `js/storage-manager.js` - データ永続化管理
- `js/performance-optimizer.js` - パフォーマンス最適化

## 主要クラスと機能

### WageCounter クラス
- 時給、累積収入、経過時間の管理
- 秒単位の収入計算
- 時間フォーマット機能

### TimerManager クラス
- タイマー機能（開始、停止、リセット）
- 経過時間の追跡
- メモリリーク対策

### UIController クラス
- ユーザー入力処理
- 表示更新
- イベントリスナー管理

### Visualizer クラス
- 収入進捗の視覚化
- アニメーション効果
- 複数の視覚化モード

### StorageManager クラス
- LocalStorage によるデータ永続化
- エラーハンドリングとフォールバック
- プライベートブラウジングモード対応

### PerformanceOptimizer クラス
- バックグラウンド動作の最適化
- メモリ使用量の監視
- DOM更新の効率化

## アクセシビリティ機能

- キーボードナビゲーション対応
- スクリーンリーダー対応（ARIA属性）
- 高コントラストデザイン
- フォーカス可視化
- キーボードショートカット
- 視覚的フィードバック

## パフォーマンス最適化

- バックグラウンドタブでの動作最適化
- 長時間動作時のメモリリーク対策
- DOM更新の最小化
- イベントリスナーの効率的な管理
- 非アクティブ時の更新頻度調整

## レスポンシブデザイン

- モバイル、タブレット、デスクトップに対応
- タッチ操作の最適化
- 画面サイズに応じたレイアウト調整
- 高解像度ディスプレイ対応

## ブラウザ対応

- Chrome（最新版）
- Firefox（最新版）
- Safari（最新版）
- Edge（最新版）
- モバイルブラウザ（iOS Safari, Android Chrome）

## 開発者向け情報

### テストモード

テストモードを有効にするには、URLに `?test=true` パラメータを追加します：

```html
index.html?test=true
```

テストモードでは、画面右下にテストパネルが表示され、各種テストを実行できます。テスト結果はパネル内に表示されます。

### テスト種類

- バリデーションテスト - 入力検証機能のテスト
- WageCounterテスト - 収入計算ロジックのテスト
- StorageManagerテスト - データ永続化機能のテスト
- パフォーマンス最適化テスト - 最適化機能のテスト

### デバッグ情報

ブラウザのコンソールには、アプリケーションの動作状況に関する詳細なログが出力されます。主なログ情報：

- コンポーネントの初期化状態
- タイマーの開始・停止・リセット
- 設定の保存・読み込み状態
- メモリ使用状況
- パフォーマンス最適化の実行状況

### エラーハンドリング

- 無効な時給入力の検証と適切なエラーメッセージ表示
- LocalStorage 利用不可時のメモリ内フォールバック
- タイマーエラーからの自動復旧
- プライベートブラウジングモードの検出と対応

## 今後の拡張可能性

- 複数の通貨対応
- 目標金額設定機能
- 作業セッション履歴
- テーマカスタマイズ
- オフライン対応（PWA化）
- 複数デバイス間の同期

## ライセンス

MIT License